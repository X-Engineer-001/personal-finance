<html>
  <head>
    <script src='js/jquery-2.2.4.min.js'></script>
    <link rel="stylesheet" type="text/css" href='css/bootstrap.min.css' />
    <script src='js/bootstrap.min.js'></script>
    <script src='js/fdb-all.min.js'></script>
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>
    <meta charset="character_set">
  </head>
  <body>
    <br>
    事項
    <br>
    <br>
    <input type='text' class='form-control' id='recordeventinput'></input>
    <select id='recordeventrecent'>
      <option value="" disabled selected>選擇最近的事項</option>
    </select>
    <br>
    <br>
    時間
    <br>
    <br>
    <input type='text' style='width:28%;display:inline' class='form-control' id='recordtimeyear'></input><p style='width:5%;display:inline'>年</p>
    <input type='text' style='width:28%;display:inline' class='form-control' id='recordtimemonth'></input><p style='width:5%;display:inline'>月</p>
    <input type='text' style='width:28%;display:inline' class='form-control' id='recordtimeday'></input><p style='width:5%;display:inline'>日</p>
    <button type="button" class="btn btn-default btn-sm btn-block" id='recordtimenow'>套用現在時間</button>
    <br>
    類別
    <br>
    <br>
    <select id='recordtype'>
      <option value="" disabled selected></option>
      <option value="食">食</option>
      <option value="衣">衣</option>
      <option value="住">住</option>
      <option value="行">行</option>
      <option value="育">育</option>
      <option value="樂">樂</option>
    </select>
    <br>
    <br>
    金額
    <br>
    <br>
    <input type='text' style='width:95%;display:inline' class='form-control' id='recordmoney'></input><p style='width:5%;display:inline'>元</p>
    <br>
    <br>
    <button type="button" class="btn btn-success" id='recordcomplete'>確認</button>
    <script>
      var fdb = new ForerunnerDB();
      var db = fdb.db("DB");
      var collection=db.collection("collection");
      collection.load(function(){
        $("body").on("click","#recordcomplete",function(){
          collection.insert({event:$('#recordeventinput').val(),time:{year:$('#recordtimeyear').val(),month:$('#recordtimemonth').val(),day:$('#recordtimeday').val()},type:$('#recordtype').val(),money:$('#recordmoney').val()});
          $('#recordeventinput').val('');
          $('#recordtimeyear').val('');
          $('#recordtimemonth').val('');
          $('#recordtimeday').val('');
          $('#recordtype').val('');
          $('#recordmoney').val('');
          collection.save();
        })
        $("body").on("click","#recordtimenow",function(){
          var date=new Date();
          $('#recordtimeyear').val(date.getFullYear());
          $('#recordtimemonth').val(date.getMonth()+1);
          $('#recordtimeday').val(date.getDate());
          collection.save();
        })
        $("body").on("click","#recordtype",function(){
          console.log('test');
        })
        // $("#recordtype").change(function(){
          
        // })
      });
    </script>
  </body>
</html>
